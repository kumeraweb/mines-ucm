---
import { LINKS, SITE } from '../data/site'

const menuItems = [
  { name: 'Inicio', href: '#inicio' },
  { name: 'Nosotros', href: '#nosotros' },
  { name: 'Servicios', href: '#servicios' },
  { name: 'Planes', href: '#planes' },
  { name: 'Cobertura', href: '#cobertura' }
]
---

<header class="fixed top-0 left-0 w-full z-50">
  <!-- BANNER SUPERIOR (seguro) -->
  <div
    class="w-full bg-[#F6F8FB] text-[#2A3E63] text-center text-sm py-1.5 px-4 border-b border-gray-200 font-medium"
  >
    Este sitio está destinado exclusivamente a la gestión y contratación de planes UCM con la
    ejecutiva {SITE.name}.
  </div>

  <!-- NAV -->
  <div class="bg-white border-b border-gray-200">
    <div class="container-md flex items-center justify-between h-16">
      <!-- LOGO -->
      <a href="#inicio" class="flex items-center gap-2">
        <img src="/logo/ucm-logo.png" alt="UCM" class="h-8" />
      </a>

      <!-- NAV DESKTOP -->
      <nav class="hidden md:flex items-center gap-8">
        {
          menuItems.map((item) => (
            <a href={item.href} class="text-gray-700 hover:text-[#2A3E63] transition">
              {item.name}
            </a>
          ))
        }

        <a
          href={LINKS.wa()}
          data-cta="whatsapp"
          aria-label={`Contactar por WhatsApp a ${SITE.name}`}
          class="btn-primary"
        >
          Contactar Ejecutiva
        </a>
      </nav>

      <!-- NAV MOBILE -->
      <div class="flex items-center gap-3 md:hidden">
        <a
          href={LINKS.wa()}
          data-cta="whatsapp"
          aria-label={`Contactar por WhatsApp a ${SITE.name}`}
          class="btn-primary text-sm px-3 py-2"
        >
          Contactar
        </a>

        <button id="menu-toggle" class="p-2 rounded-md border border-gray-300 hover:bg-gray-50">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- MENU MOBILE -->
  <div
    id="mobile-menu"
    class="hidden md:hidden absolute top-[4.5rem] left-0 w-full bg-white/95 backdrop-blur-md border-t border-gray-200 shadow-lg animate-fadeIn"
  >
    <nav class="flex flex-col items-center py-6 space-y-4">
      {
        menuItems.map((item) => (
          <a
            href={item.href}
            class="text-gray-800 text-lg font-medium hover:text-[#2A3E63] transition"
          >
            {item.name}
          </a>
        ))
      }

      <a
        href={LINKS.wa()}
        data-cta="whatsapp"
        aria-label={`Contactar por WhatsApp a ${SITE.name}`}
        class="btn-primary px-6 py-2.5 text-base font-semibold shadow-md hover:scale-105 transition"
      >
        Contactar a {SITE.name}
      </a>
    </nav>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const btn = document.getElementById('menu-toggle')
      const menu = document.getElementById('mobile-menu')
      btn.addEventListener('click', () => menu.classList.toggle('hidden'))
      menu
        .querySelectorAll('a')
        .forEach((link) => link.addEventListener('click', () => menu.classList.add('hidden')))
    })
  </script>

  <style>
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .animate-fadeIn {
      animation: fadeIn 0.25s ease-out;
    }
  </style>
</header>
